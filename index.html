<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Surpresa de Aniversário!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .font-title {
            font-family: 'Playfair Display', serif;
        }
        .card {
            background-color: white;
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease-in-out;
        }
        .btn {
            transition: all 0.3s ease-in-out;
            text-decoration: none; /* Adicionado para links que parecem botões */
            display: inline-block; /* Adicionado para links que parecem botões */
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
        .option-btn {
            border: 1px solid #e2e8f0;
            background-color: #f8fafc;
        }
        .option-btn:hover {
            border-color: #f472b6;
            background-color: #fdf2f8;
        }
        .option-btn.correct {
            background-color: #dcfce7;
            border-color: #4ade80;
            color: #166534;
        }
        .option-btn.incorrect {
            background-color: #fee2e2;
            border-color: #f87171;
            color: #991b1b;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        .shake { animation: shake 0.5s; }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(236, 72, 153, 0.7); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(236, 72, 153, 0); }
        }
        .fingerprint-icon:hover { animation: pulse 1.5s infinite; }
    </style>
</head>
<body class="bg-pink-50 flex items-center justify-center min-h-screen p-4 overflow-hidden">

    <main class="max-w-2xl w-full">
        <!-- Telas do Quiz (iniciais) -->
        <div id="loading-screen" class="card text-center p-6 sm:p-8">
            <h1 class="font-title text-2xl sm:text-3xl text-pink-500 mb-4">Aguarde um momento...</h1>
            <div class="w-full bg-gray-200 rounded-full h-4 mb-4 overflow-hidden"><div id="loading-bar" class="bg-pink-400 h-4 rounded-full" style="width: 10%; transition: width 0.5s;"></div></div>
            <p id="loading-text" class="text-gray-600 sm:text-lg">Iniciando protocolo de amorzino...</p>
        </div>
        <div id="start-screen" class="card text-center hidden p-6 sm:p-8">
            <h1 class="font-title text-3xl sm:text-4xl md:text-5xl text-pink-500 mb-4">Bem vindo ao primeiro QUIZ JONJON oficial!</h1>
            <p class="text-gray-600 mb-8 sm:text-lg">Preparei uma pequena surpresa para testar o quanto você realmente me conhece. Pronta para o desafio? ❤️</p>
            <button id="start-btn" class="btn bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-8 rounded-full text-lg sm:text-xl shadow-lg">Começar o Quiz!</button>
        </div>
        <div id="quiz-screen" class="card hidden p-6 sm:p-8">
            <div id="progress-bar-container" class="w-full bg-gray-200 rounded-full h-2.5 mb-6"><div id="progress" class="bg-pink-400 h-2.5 rounded-full" style="width: 0%"></div></div>
            <h2 id="question-text" class="text-xl sm:text-2xl font-bold text-gray-800 mb-6 text-center min-h-[6rem] flex items-center justify-center"></h2>
            <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
            <div class="mt-8 text-right"><button id="next-btn" class="btn bg-gray-300 text-gray-700 font-bold py-2 px-6 rounded-full hidden">Próxima</button></div>
        </div>
        <div id="one-piece-screen" class="card text-center hidden p-6 sm:p-8">
            <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mb-6">Última condição para ver seu resultado...</h2>
            <p class="text-gray-600 mb-8 sm:text-lg">Você aceita solenemente assistir One Piece INTEIRO comigo?</p>
            <div id="one-piece-buttons" class="relative flex items-center justify-center gap-4 h-48">
                <button id="one-piece-yes" class="btn bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 sm:px-8 rounded-full shadow-lg text-lg sm:text-xl z-10" style="transition: transform 0.3s ease;">Sim</button>
                <button id="one-piece-no" class="btn bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 sm:px-8 rounded-full shadow-lg text-lg sm:text-xl" style="transition: all 0.2s ease;">Não</button>
            </div>
        </div>
        <div id="result-screen" class="card text-center hidden p-6 sm:p-8">
            <h1 id="result-title" class="font-title text-3xl sm:text-4xl text-pink-500 mb-4"></h1>
            <p id="result-message" class="text-gray-600 mb-2 sm:text-lg"></p>
            <p class="text-gray-800 font-bold text-xl mb-8">Sua pontuação: <span id="score" class="text-pink-500"></span></p>
            <p id="final-message" class="text-gray-600 mb-8 sm:text-lg">Independente do resultado, o que importa é que eu te amooooo!</p>
            <button id="claim-prize-btn" class="btn bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-8 rounded-full shadow-lg">Reivindicar Prêmio Final</button>
        </div>
        
        <!-- NOVAS TELAS DA BRINCADEIRA FINAL -->
        <div id="face-scan-screen" class="card text-center hidden p-6 sm:p-8">
            <h1 class="font-title text-2xl sm:text-3xl text-pink-500 mb-4">Verificação de Segurança</h1>
            <p id="scan-text" class="text-gray-600 sm:text-lg mb-6">Escaneando biometria facial...</p>
            <svg class="w-24 h-24 mx-auto text-pink-400 mb-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
            <div class="w-full bg-gray-200 rounded-full h-2.5"><div id="scan-bar" class="bg-pink-400 h-2.5 rounded-full" style="width: 0%; transition: width 1s;"></div></div>
        </div>

        <div id="fingerprint-screen" class="card text-center hidden p-6 sm:p-8">
            <h1 class="font-title text-2xl sm:text-3xl text-pink-500 mb-4">Verificação Final</h1>
            <p class="text-gray-600 sm:text-lg mb-8">Por favor, posicione o dedo para confirmar sua identidade</p>
            <div id="fingerprint-scanner" class="w-32 h-32 mx-auto cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-full h-full text-pink-400 fingerprint-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                </svg>
            </div>
        </div>
        
        <div id="certificate-screen" class="card text-center hidden p-6 sm:p-8">
            <h1 class="font-title text-3xl sm:text-4xl text-pink-500 mb-4">Processo Concluído!</h1>
            <p class="text-gray-600 mb-8 sm:text-lg">Verificação biométrica aprovada. Um documento gerado! Pelo poder investido em mim por este quiz, vocês estão oficialmente casados online!</p>
            <a href="certificado de casamento.pdf" download="Certidao_de_Casamento_JonJon_e_Princesa.pdf" class="btn bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full text-lg sm:text-xl shadow-lg">Baixar Certidão de Casamento</a>
        </div>
    </main>

    <script>
        // --- SEÇÃO DE PERGUNTAS ---
        const myQuestions = [
            { question: "Qual é a minha comida favorita que eu comeria todos os dias sem enjoar?", options: ["Pizza", "Hambúrguer", "Lasanha da Minha Mãe", "Açaí"], answer: "Pizza" },
            { question: "Qual o nome que eu daria para a nossa planta de estimação imaginária?", options: ["Clorofilson", "Jurema", "Samambaeu", "Alface Armstrong"], answer: "Alface Armstrong" },
            { question: "Qual o meu maior defeito?", options: ["Sou teimoso", "Deixo a toalha na cama", "Ser perfeito demais (atrapalha)", "Ronco um pouquinho"], answer: "Ser perfeito demais (atrapalha)", type: 'funny' },
            { question: "Quem ama mais?", options: ["JonJon", "Princesa"], answer: "JonJon", type: 'trick' },
            { question: "Qual a densidade (ρ) do amor exercida pela pressão (P) dos meus lábios nos seus, considerando uma força (F) de 5N numa área (A) de 0,0004 m²?", options: ["ρ = 12500 kg/m³", "7.2 GigaPascals de carinho", "É maior que a de um buraco negro", "Infinita e imensurável"], answer: "Infinita e imensurável" },
            { question: "Onde foi o nosso primeiro beijo?", options: ["No cinema", "No Restaurante", "Na tela do celular (Beijava sua foto escondido)", "Dentro do carro"], answer: "No Restaurante" },
            { question: "Me analisando, qual é melhor green flag?", options: ["Lhe fazer rir sem parar", "Ter paciência", "Ser um increvel 2° lugar", "Todas as anteriores e muito mais"], answer: "Todas as anteriores e muito mais", type: 'all-correct' },
            { question: "O que eu mais amo em você?", options: ["Seu sorriso", "Seu cheiro", "Seu carinho", "TUDOOOOO"], answer: "TUDOOOOO" }
        ];

        // --- VARIÁVEIS DOS ELEMENTOS ---
        const allScreens = document.querySelectorAll('main > div');
        const loadingScreen = document.getElementById('loading-screen');
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const onePieceScreen = document.getElementById('one-piece-screen');
        const resultScreen = document.getElementById('result-screen');
        const faceScanScreen = document.getElementById('face-scan-screen');
        const fingerprintScreen = document.getElementById('fingerprint-screen');
        const certificateScreen = document.getElementById('certificate-screen');

        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const claimPrizeBtn = document.getElementById('claim-prize-btn');
        const fingerprintScanner = document.getElementById('fingerprint-scanner');
        
        const loadingBar = document.getElementById('loading-bar');
        const loadingText = document.getElementById('loading-text');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const resultTitle = document.getElementById('result-title');
        const resultMessage = document.getElementById('result-message');
        const scoreText = document.getElementById('score');
        const finalMessage = document.getElementById('final-message');
        const progressBar = document.getElementById('progress');
        const onePieceButtonsContainer = document.getElementById('one-piece-buttons');
        const onePieceYesBtn = document.getElementById('one-piece-yes');
        const onePieceNoBtn = document.getElementById('one-piece-no');

        let currentQuestionIndex = 0;
        let score = 0;
        let dodgeAttempts = 0;

        function showScreen(screenToShow) {
            allScreens.forEach(screen => screen.classList.add('hidden'));
            screenToShow.classList.remove('hidden');
        }

        window.onload = () => { 
            const loadingMessages = [{ width: 30, text: "Carregando memórias..." }, { width: 60, text: "Calculando nível de amor..." }, { width: 80, text: "Consultando as leis da termodinâmica..." }, { width: 100, text: "Pronto! ❤️" }];
            let i = 0;
            const interval = setInterval(() => {
                loadingBar.style.width = `${loadingMessages[i].width}%`;
                loadingText.innerText = loadingMessages[i].text; i++;
                if (i >= loadingMessages.length) {
                    clearInterval(interval);
                    setTimeout(() => showScreen(startScreen), 500);
                }
            }, 1000);
        };
        
        startBtn.addEventListener('click', startQuiz);
        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < myQuestions.length - 1) {
                currentQuestionIndex++; showQuestion();
            } else {
                showScreen(onePieceScreen); setupOnePieceChallenge();
            }
        });

        function startQuiz() {
            showScreen(quizScreen); showQuestion();
        }

        function showQuestion() { 
            resetState();
            const question = myQuestions[currentQuestionIndex];
            questionText.innerText = question.question;
            const progressPercentage = ((currentQuestionIndex + 1) / myQuestions.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;
            if (question.type === 'trick') setupTrickQuestion(question);
            else if (question.type === 'all-correct') setupAllCorrectQuestion(question);
            else setupRegularQuestion(question);
        }
        
        function selectAnswer(e) { 
            const selectedBtn = e.target;
            const question = myQuestions[currentQuestionIndex];
            const correct = selectedBtn.innerText === question.answer;
            if (correct) {
                score++;
                selectedBtn.classList.add('correct');
                if (question.type === 'funny') questionText.innerText = "Resposta certa! Modéstia não é meu forte.";
                if (question.question.includes('física')) {
                    questionText.innerText = "Exato! As leis da física não se aplicam! Me de um beijinho agora!";
                    questionText.style.fontSize = '1.25rem';
                }
            } else {
                selectedBtn.classList.add('incorrect');
            }
            Array.from(optionsContainer.children).forEach(button => {
                if (button.innerText === question.answer) button.classList.add('correct');
                button.disabled = true;
            });
            showNextButton();
        }

        function showResult() {
            showScreen(resultScreen);
            scoreText.innerText = `${score} de ${myQuestions.length}`;
            const scorePercentage = (score / myQuestions.length) * 100;
            if (scorePercentage === 100) {
                resultTitle.innerText = "Gabaritou, meu princesa!";
                resultMessage.innerText = "Acertou tudo, até as pegadinhas e a de física!";
                finalMessage.innerText = "Espero estar muito mais tempo ao seu lado!";
            } else if (scorePercentage >= 60) {
                resultTitle.innerText = "Passou de ano!";
                resultMessage.innerText = "Foi muito bem! Só errou algumas pra me dar a chance de te contar mais sobre mim nos nossos próximos encontros. 😉";
            } else {
                resultTitle.innerText = "Hmmm, ficou de recuperação!";
                resultMessage.innerText = "Brincadeira! A única nota que importa é vocêee. Precisamos de mais tempo juntos pra você estudar a matéria!";
            }
        }
        
        // --- LÓGICA DA BRINCADEIRA FINAL ---
        claimPrizeBtn.addEventListener('click', startFinalSequence);
        fingerprintScanner.addEventListener('click', () => {
            showScreen(certificateScreen);
        }, { once: true });
        
        function startFinalSequence() {
            showScreen(faceScanScreen);
            const scanBar = document.getElementById('scan-bar');
            const scanText = document.getElementById('scan-text');
            setTimeout(() => { scanBar.style.width = '50%'; scanText.innerText = 'Analisando compatibilidade...'; }, 500);
            setTimeout(() => { scanBar.style.width = '100%'; scanText.innerText = 'Compatibilidade: 100%! Verificado.'; }, 2000);
            setTimeout(() => { showScreen(fingerprintScreen); }, 3500);
        }

        // --- Funções auxiliares do quiz ---
        function setupOnePieceChallenge() {
            let noClicks = 0; let isRunningAway = false;
            onePieceYesBtn.addEventListener('click', () => { showScreen(resultScreen); showResult(); }, { once: true });
            onePieceNoBtn.addEventListener('click', () => {
                noClicks++; const scale = 1 + noClicks * 0.5;
                onePieceYesBtn.style.transform = `scale(${scale})`;
                if (!isRunningAway) { onePieceNoBtn.style.position = 'absolute'; isRunningAway = true; }
                if (noClicks >= 3) { onePieceNoBtn.style.display = 'none'; onePieceButtonsContainer.classList.add('justify-center'); return; }
                const container = onePieceButtonsContainer; const btnWidth = onePieceNoBtn.offsetWidth; const btnHeight = onePieceNoBtn.offsetHeight; const containerWidth = container.clientWidth; const containerHeight = container.clientHeight;
                const newTop = Math.random() * (containerHeight - btnHeight); const newLeft = Math.random() * (containerWidth - btnWidth);
                onePieceNoBtn.style.top = `${newTop}px`; onePieceNoBtn.style.left = `${newLeft}px`;
            });
        }
        function resetState() { nextBtn.classList.add('hidden'); dodgeAttempts = 0; questionText.style.fontSize = ''; while (optionsContainer.firstChild) { optionsContainer.removeChild(optionsContainer.firstChild); } }
        function showNextButton() { if (myQuestions.length > currentQuestionIndex + 1) { nextBtn.innerText = "Próxima"; nextBtn.classList.remove('hidden'); } else { nextBtn.innerText = "Último Desafio..."; nextBtn.classList.remove('hidden'); } }
        function setupRegularQuestion(question) { optionsContainer.className = 'grid grid-cols-1 md:grid-cols-2 gap-4'; question.options.forEach(option => { const button = document.createElement('button'); button.innerText = option; button.classList.add('option-btn', 'btn', 'w-full', 'text-left', 'p-4', 'rounded-lg', 'font-semibold'); button.addEventListener('click', selectAnswer); optionsContainer.appendChild(button); }); }
        function setupAllCorrectQuestion(question) { optionsContainer.className = 'grid grid-cols-1 md:grid-cols-2 gap-4'; question.options.forEach(option => { const button = document.createElement('button'); button.innerText = option; button.classList.add('option-btn', 'btn', 'w-full', 'text-left', 'p-4', 'rounded-lg', 'font-semibold'); button.addEventListener('click', (e) => { if (option === question.answer) { score++; Array.from(optionsContainer.children).forEach(btn => { btn.classList.add('correct'); btn.disabled = true; }); showNextButton(); } else { e.target.classList.add('shake'); setTimeout(() => e.target.classList.remove('shake'), 500); } }); optionsContainer.appendChild(button); }); }
        function setupTrickQuestion(question) { 
            optionsContainer.className = 'flex flex-col sm:flex-row justify-center items-center gap-4 h-32 sm:h-24'; 
            const [hisName, herName] = question.options; 
            const hisButton = document.createElement('button'); 
            hisButton.innerText = hisName; 
            hisButton.classList.add('option-btn', 'btn', 'p-4', 'rounded-lg', 'font-semibold', 'w-full', 'sm:w-auto'); 
            const herButton = document.createElement('button'); 
            herButton.innerText = herName; 
            herButton.classList.add('option-btn', 'btn', 'p-4', 'rounded-lg', 'font-semibold', 'w-full', 'sm:w-auto'); 
            
            // ALTERADO AQUI: O botão não vai mais diminuir.
            const dodges = [{ text: 'Opa!' }, { text: 'Quase!' }, { text: 'Tenta de novo :P' }]; 
            
            herButton.addEventListener('click', () => { 
                if (dodgeAttempts < dodges.length) { 
                    const dodge = dodges[dodgeAttempts]; 
                    herButton.innerText = dodge.text; 
                    dodgeAttempts++; 
                } else { 
                    herButton.style.display = 'none'; 
                } 
            }); 
            
            hisButton.addEventListener('click', (e) => { 
                score++; e.target.classList.add('correct'); 
                herButton.style.display = 'none'; 
                hisButton.disabled = true; 
                showNextButton(); 
            }); 
            optionsContainer.appendChild(hisButton); 
            optionsContainer.appendChild(herButton); 
        }

    </script>
</body>
</html>

